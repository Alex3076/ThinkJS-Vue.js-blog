webpackJsonp([5],{XBLz:function(t,e){},"sWj/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("4YfN"),o=n.n(a),s=(n("JDgu"),n("XBLz"),n("K5Ut")),r=n("9rMa"),i=n("gyMJ");n("MVMM").default.component("Button",s.Button);var c={components:{Row:s.Row,Col:s.Col,Menu:s.Menu,DropdownMenu:s.DropdownMenu,DropdownItem:s.DropdownItem,Breadcrumb:s.Breadcrumb,BreadcrumbItem:s.BreadcrumbItem,Card:s.Card,Dropdown:s.Dropdown,Icon:s.Icon,Submenu:s.Submenu,MenuItem:s.MenuItem,Button:s.Button,Avatar:s.Avatar},data:function(){return{userInfo:{},fold:this.$store.getters.getMenu.fold,menu:[{name:"控制台",path:"/home",icon:"home"},{name:"内容管理",path:"/content/list",icon:"document"},{name:"页面管理",path:"/page/list",icon:"ios-paper"},{name:"评论管理",path:"/comment/list",icon:"chatbubbles"},{name:"分类管理",path:"/category/list",icon:"shuffle"},{name:"标签管理",path:"/tag/list",icon:"pricetags"},{name:"系统设置",path:"/config",icon:"ios-gear"}]}},computed:o()({iconSize:function(){return this.fold?24:14},breadcrumb:function(){var t=this.route.path.split("/"),e={admin:"后台",home:"控制台",content:"内容",category:"分类",page:"页面",comment:"评论",tag:"标签",save:"编辑",list:"列表",config:"设置"},n=[];for(var a in t){var o=t[a];o&&n.push(e[o]?e[o]:"")}return n}},Object(r.c)({route:function(t){return t.route}})),mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this;i.h.getInfo(this.$store.state.admin.user.name).then(function(e){t.$store.commit("setUserInfo",e.data),t.userInfo=e.data})},toggleClick:function(){this.fold=!this.fold,this.$store.commit("setMenuFlod",this.fold)},select:function(t){this.$router.push(t)},loginOut:function(){this.$store.commit("clearToken"),this.$router.push("/login")},dropdownClick:function(t){"loginOut"==t&&this.loginOut(),"userInfo"==t&&this.$router.push("/user/info")}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout",class:{"layout-hide-text":t.fold},attrs:{id:"admin"}},[n("Row",{staticClass:"admin",attrs:{type:"flex"}},[n("Col",{staticClass:"layout-menu-left",attrs:{span:t.fold?1:3}},[n("Menu",{attrs:{"active-name":"1",theme:"dark",width:"auto","active-name":t.route.path},on:{"on-select":t.select}},[n("div",{staticClass:"layout-logo-left"}),t._v(" "),t._l(t.menu,function(e){return[e.children?n("Submenu",{attrs:{name:e.path}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:e.icon,size:t.iconSize}}),t._v(" "),n("span",{staticClass:"layout-text"},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.children,function(e){return n("MenuItem",{attrs:{name:e.path}},[n("Icon",{attrs:{type:e.icon,size:t.iconSize}}),t._v(" "),n("span",{staticClass:"layout-text"},[t._v(t._s(e.name))])],1)})],2):t._e(),t._v(" "),e.children?t._e():n("MenuItem",{attrs:{name:e.path}},[n("Icon",{attrs:{type:e.icon,size:t.iconSize}}),t._v(" "),n("span",{staticClass:"layout-text"},[t._v(t._s(e.name))])],1)]})],2)],1),t._v(" "),n("Col",{staticClass:"layout-rignt",attrs:{span:t.fold?23:21}},[n("div",{staticClass:"layout-header"},[n("Row",[n("Col",{staticClass:"layout-header-left",attrs:{span:"12"}},[n("Button",{attrs:{type:"text"},on:{click:t.toggleClick}},[n("Icon",{attrs:{type:"navicon",size:"32"}})],1)],1),t._v(" "),n("Col",{staticClass:"layout-header-right",attrs:{span:"12"}},[n("a",{staticClass:"home",attrs:{target:"_blank",href:"/"}},[n("Icon",{attrs:{type:"home"}})],1),t._v(" "),n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":t.dropdownClick}},[n("a",{attrs:{href:"javascript:void(0)"}},[t._v("\n                                "+t._s(t.userInfo.username)+"\n                                "),n("Icon",{attrs:{type:"arrow-down-b"}})],1),t._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"userInfo"}},[t._v("个人资料")]),t._v(" "),n("DropdownItem",{attrs:{name:"loginOut"}},[t._v("退出后台")])],1)],1),t._v(" "),n("Avatar",{attrs:{src:t.userInfo.avator,size:"large"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"layout-breadcrumb"},[n("Breadcrumb",[t.breadcrumb[0]?n("BreadcrumbItem",[t._v(t._s(t.breadcrumb[0]))]):t._e(),t._v(" "),t.breadcrumb[1]?n("BreadcrumbItem",[t._v(t._s(t.breadcrumb[1]))]):t._e(),t._v(" "),t.breadcrumb[2]?n("BreadcrumbItem",[t._v(t._s(t.breadcrumb[2]))]):t._e()],1)],1),t._v(" "),n("div",{staticClass:"layout-content"},[n("div",{staticClass:"layout-content-main"},[n("router-view")],1)])])],1)],1)},staticRenderFns:[]},l=n("Z0/y")(c,u,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=5.31f9d7fe11cea934822c.js.map