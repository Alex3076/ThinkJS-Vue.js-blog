{"version":3,"sources":["webpack:///src/view/Main.vue","webpack:///./src/view/Main.vue?1e6b","webpack:///./src/view/Main.vue"],"names":["component","dist_iview","Main","Avatar","fold","computed","extends_default","i","arr","route","getUserInfo","_this","this","data","name","loginOut","view_Main","render","_vm","_h","$createElement","_c","_self","staticClass","class","layout-hide-text","attrs","id","type","span","active-name","theme","width","path","on","on-select","select","_v","_l","item","slot","icon","size","iconSize","_s","child","_e","children","click","toggleClick","target","href","trigger","on-click","dropdownClick","userInfo","username","src","avator","breadcrumb","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"js/5.31f9d7fe11cea934822c.js","sourcesContent":["<template>\n    <div class=\"layout\" id=\"admin\" :class=\"{'layout-hide-text':fold}\">\n        <Row type=\"flex\" class=\"admin\">\n            <Col :span=\"fold?1:3\" class=\"layout-menu-left\">\n                <Menu active-name=\"1\" theme=\"dark\" width=\"auto\" :active-name=\"route.path\"  @on-select=\"select\" >\n                    <div class=\"layout-logo-left\"></div>\n                    <template v-for=\"item in menu\">\n                        <Submenu :name=\"item.path\" v-if=\"item.children\">\n                            <template slot=\"title\">\n                                <Icon :type=\"item.icon\" :size=\"iconSize\"></Icon>\n                                <span class=\"layout-text\">{{item.name}}</span>\n                            </template>\n                            <MenuItem :name=\"child.path\" v-for=\"child in item.children\">\n                                <Icon :type=\"child.icon\" :size=\"iconSize\"></Icon>\n                                <span class=\"layout-text\">{{child.name}}</span>\n                            </MenuItem>\n                        </Submenu>\n\n                        <MenuItem  :name=\"item.path\" v-if=\"!item.children\">\n                            <Icon :type=\"item.icon\" :size=\"iconSize\"></Icon>\n                            <span class=\"layout-text\">{{item.name}}</span>\n                        </MenuItem>                        \n                    </template>\n                </Menu>\n            </Col>\n            <Col :span=\"fold?23:21\" class=\"layout-rignt\">\n                <div class=\"layout-header\">\n                    <Row>\n                        <Col span=\"12\" class=\"layout-header-left\">\n                          <Button type=\"text\" @click=\"toggleClick\">\n                              <Icon type=\"navicon\" size=\"32\"></Icon>\n                          </Button>                          \n                        </Col>\n                        <Col span=\"12\" class=\"layout-header-right\">\n                            <a class=\"home\" target=\"_blank\" href=\"/\"><Icon type=\"home\"></Icon></a>\n                            <Dropdown  trigger=\"click\" @on-click=\"dropdownClick\">\n                                <a href=\"javascript:void(0)\">\n                                    {{userInfo.username}}\n                                    <Icon type=\"arrow-down-b\"></Icon>\n                                </a>\n                                <DropdownMenu slot=\"list\">\n                                    <DropdownItem name=\"userInfo\">个人资料</DropdownItem>\n                                    <DropdownItem name=\"loginOut\">退出后台</DropdownItem>\n                                </DropdownMenu>\n                            </Dropdown>\n                            <Avatar :src=\"userInfo.avator\" size=\"large\" />\n                        </Col>\n                    </Row>\n                </div>\n                <div class=\"layout-breadcrumb\">\n                    <Breadcrumb>\n                        <BreadcrumbItem v-if=\"breadcrumb[0]\">{{breadcrumb[0]}}</BreadcrumbItem>\n                        <BreadcrumbItem v-if=\"breadcrumb[1]\">{{breadcrumb[1]}}</BreadcrumbItem>\n                        <BreadcrumbItem v-if=\"breadcrumb[2]\">{{breadcrumb[2]}}</BreadcrumbItem>\n                    </Breadcrumb>\n                </div>\n                <div class=\"layout-content\">\n                    <div class=\"layout-content-main\">\n                        <router-view></router-view>\n                    </div>\n                </div>\n            </Col>\n        </Row>\n    </div>\n</template>\n<script>\nimport \"iview/dist/styles/iview.css\";\nimport \"@/assets/css/admin.css\";\nimport { Row, Col, Menu, DropdownMenu, DropdownItem, Breadcrumb, BreadcrumbItem, Card, Dropdown, Icon, Submenu, MenuItem, Button, Avatar} from 'iview';\nimport { mapState } from \"vuex\";\nimport { user } from \"@/api\";\nimport Vue from 'vue';\nVue.component('Button', Button);\nexport default {\n  components: {\n    Row, Col, Menu, DropdownMenu, DropdownItem, Breadcrumb, BreadcrumbItem, Card, Dropdown, Icon, Submenu, MenuItem, Button, Avatar\n  },\n  data() {\n    return {\n      userInfo: {},\n      fold: this.$store.getters.getMenu.fold,\n      //菜单数据\n      // TODO：需要优化，这样写太丑 \n      menu: [\n        {\n          name: \"控制台\",\n          path: \"/home\",\n          icon: \"home\"\n        },\n        {\n          name: \"内容管理\",\n          path: \"/content/list\",\n          icon: \"document\",\n        },\n        {\n          name: \"页面管理\",\n          path: \"/page/list\",\n          icon: \"ios-paper\",\n        },\n        {\n          name: \"评论管理\",\n          path: \"/comment/list\",\n          icon: \"chatbubbles\"\n        },\n        {\n          name: \"分类管理\",\n          path: \"/category/list\",\n          icon: \"shuffle\",\n        },\n        {\n          name: \"标签管理\",\n          path: \"/tag/list\",\n          icon: \"pricetags\",\n        },\n        {\n          name: \"系统设置\",\n          path: \"/config\",\n          icon: \"ios-gear\"\n        }\n      ]\n    };\n  },\n  computed: {\n    iconSize() {\n      return this.fold ? 24 : 14;\n    },\n    breadcrumb() {\n      let breadcrumbs = this.route.path.split(\"/\");\n      let _breadcrumb = {\n        admin: \"后台\",\n        home: \"控制台\",\n        content: \"内容\",\n        category: \"分类\",\n        page: \"页面\",\n        comment: \"评论\",\n        tag: \"标签\",\n        save: \"编辑\",\n        list: \"列表\",\n        config:\"设置\"\n      };\n      let arr = [];\n      for (var i in breadcrumbs) {\n        let key = breadcrumbs[i];\n        if (key) {\n          arr.push(_breadcrumb[key] ? _breadcrumb[key] : \"\");\n        }\n      }\n      return arr;\n    },\n    ...mapState({\n      route: state => state.route\n    })\n  },\n  mounted() {\n    this.getUserInfo();\n  },\n  methods: {\n    getUserInfo(){\n      user.getInfo(this.$store.state.admin.user.name).then(res => {\n        this.$store.commit(\"setUserInfo\", res.data);\n        this.userInfo = res.data;\n      });\n    },\n    toggleClick() {\n      this.fold = !this.fold;\n      this.$store.commit(\"setMenuFlod\", this.fold);\n    },\n    select(name) {\n      this.$router.push(name);\n    },\n    loginOut() {\n      this.$store.commit(\"clearToken\");\n      this.$router.push(\"/login\");\n    },\n    dropdownClick(name) {\n      if (name == \"loginOut\") {\n        this.loginOut();\n      }\n      if (name == \"userInfo\") {\n        this.$router.push(\"/user/info\");\n      }\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/view/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\",class:{'layout-hide-text':_vm.fold},attrs:{\"id\":\"admin\"}},[_c('Row',{staticClass:\"admin\",attrs:{\"type\":\"flex\"}},[_c('Col',{staticClass:\"layout-menu-left\",attrs:{\"span\":_vm.fold?1:3}},[_c('Menu',{attrs:{\"active-name\":\"1\",\"theme\":\"dark\",\"width\":\"auto\",\"active-name\":_vm.route.path},on:{\"on-select\":_vm.select}},[_c('div',{staticClass:\"layout-logo-left\"}),_vm._v(\" \"),_vm._l((_vm.menu),function(item){return [(item.children)?_c('Submenu',{attrs:{\"name\":item.path}},[_c('template',{slot:\"title\"},[_c('Icon',{attrs:{\"type\":item.icon,\"size\":_vm.iconSize}}),_vm._v(\" \"),_c('span',{staticClass:\"layout-text\"},[_vm._v(_vm._s(item.name))])],1),_vm._v(\" \"),_vm._l((item.children),function(child){return _c('MenuItem',{attrs:{\"name\":child.path}},[_c('Icon',{attrs:{\"type\":child.icon,\"size\":_vm.iconSize}}),_vm._v(\" \"),_c('span',{staticClass:\"layout-text\"},[_vm._v(_vm._s(child.name))])],1)})],2):_vm._e(),_vm._v(\" \"),(!item.children)?_c('MenuItem',{attrs:{\"name\":item.path}},[_c('Icon',{attrs:{\"type\":item.icon,\"size\":_vm.iconSize}}),_vm._v(\" \"),_c('span',{staticClass:\"layout-text\"},[_vm._v(_vm._s(item.name))])],1):_vm._e()]})],2)],1),_vm._v(\" \"),_c('Col',{staticClass:\"layout-rignt\",attrs:{\"span\":_vm.fold?23:21}},[_c('div',{staticClass:\"layout-header\"},[_c('Row',[_c('Col',{staticClass:\"layout-header-left\",attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.toggleClick}},[_c('Icon',{attrs:{\"type\":\"navicon\",\"size\":\"32\"}})],1)],1),_vm._v(\" \"),_c('Col',{staticClass:\"layout-header-right\",attrs:{\"span\":\"12\"}},[_c('a',{staticClass:\"home\",attrs:{\"target\":\"_blank\",\"href\":\"/\"}},[_c('Icon',{attrs:{\"type\":\"home\"}})],1),_vm._v(\" \"),_c('Dropdown',{attrs:{\"trigger\":\"click\"},on:{\"on-click\":_vm.dropdownClick}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_vm._v(\"\\n                                \"+_vm._s(_vm.userInfo.username)+\"\\n                                \"),_c('Icon',{attrs:{\"type\":\"arrow-down-b\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"userInfo\"}},[_vm._v(\"个人资料\")]),_vm._v(\" \"),_c('DropdownItem',{attrs:{\"name\":\"loginOut\"}},[_vm._v(\"退出后台\")])],1)],1),_vm._v(\" \"),_c('Avatar',{attrs:{\"src\":_vm.userInfo.avator,\"size\":\"large\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"layout-breadcrumb\"},[_c('Breadcrumb',[(_vm.breadcrumb[0])?_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.breadcrumb[0]))]):_vm._e(),_vm._v(\" \"),(_vm.breadcrumb[1])?_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.breadcrumb[1]))]):_vm._e(),_vm._v(\" \"),(_vm.breadcrumb[2])?_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.breadcrumb[2]))]):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"layout-content\"},[_c('div',{staticClass:\"layout-content-main\"},[_c('router-view')],1)])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b64bf26\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/view/Main.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b64bf26\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/Main.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}